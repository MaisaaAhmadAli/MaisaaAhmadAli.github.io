CREATE TABLE End_User
(
  FirstName varchar(10) NOT NULL,
  LastName varchar(10) NOT NULL,
  Password INT NOT NULL,
  UserEmail varchar(35) NOT NULL,
  Gender char(1) NOT NULL,
  PRIMARY KEY (UserEmail)
);

CREATE TABLE Admin
(
  AdminEmail varchar(35) NOT NULL,
  Passowrd INT NOT NULL,
  AdminID varchar(8) NOT NULL,
  PRIMARY KEY (AdminID)
);

CREATE TABLE Event_Manger
(
  Password INT NOT NULL,
  MangerEmail varchar(35) NOT NULL,
  Name varchar(10) NOT NULL,
  MangerID varchar(8) NOT NULL,
  AdminID varchar(8) NOT NULL,
  PRIMARY KEY (MangerID),
  FOREIGN KEY (AdminID) REFERENCES Admin(AdminID)
);

CREATE TABLE Actor
(
  Name varchar(10) NOT NULL,
  ActorEmail varchar(35) NOT NULL,
  Gender char(1) NOT NULL,
  ActorID INT NOT NULL AUTO_INCREMENT,
  AdminID varchar(8) NOT NULL,
  PRIMARY KEY (ActorID),
  FOREIGN KEY (AdminID) REFERENCES Admin(AdminID)
);

CREATE TABLE Event
(
  EventID INT NOT NULL AUTO_INCREMENT,
  Title varchar(20) NOT NULL,
  Actor varchar(10) NOT NULL,
  Time TIME NOT NULL,
  Date DATE NOT NULL,
  Description varchar(100) NOT NULL,
  AvailableTickets__ INT NOT NULL,
  Pic TINYBLOB NOT NULL,
  ActorID INT NOT NULL,
  PRIMARY KEY (EventID),
  FOREIGN KEY (ActorID) REFERENCES Actor(ActorID)
);

CREATE TABLE book
(
  PaymentMethod varchar(15) NOT NULL,
  NumberOfTickets__ INT NOT NULL,
  UserEmail varchar(35) NOT NULL,
  EventID INT NOT NULL,
  PRIMARY KEY (UserEmail, EventID),
  FOREIGN KEY (UserEmail) REFERENCES End_User(UserEmail),
  FOREIGN KEY (EventID) REFERENCES Event(EventID)
);

CREATE TABLE Add_Delete
(
  MangerID varchar(8) NOT NULL,
  EventID INT NOT NULL,
  PRIMARY KEY (MangerID, EventID),
  FOREIGN KEY (MangerID) REFERENCES Event_Manger(MangerID),
  FOREIGN KEY (EventID) REFERENCES Event(EventID)
);